<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:include="~{fragments :: head}">
    <title id="pageTitle">Reports</title>
</head>
<body>

<div th:replace="~{fragments :: logo}"></div>
<div>
<h1>TABLE PAGE</h1>

    <div class="text-center"><a href="/report/dashboard">Dash</a> </div>
<div class="d-flex p-2 flex-row justify-content-center">
    <!--/*@thymesVar id="reports" type="com.nci.webapp"*/-->
    <div class="row d-flex">
        <div class="table-wrap scrollable">
            <table class="table table-hover table-bordered table-striped">
                <thead class="text-center table-bordered tophead">
                <tr class="thead-hover">
                    <th sec:authorize="hasAnyAuthority('ADMIN')">User</th>
                    <th>Report ID</th>
                    <th class="px-5 mx-3">Report Date</th>
                    <th>Day Rating</th>
                    <th class="px-5">Medication</th>
                    <th class="px-5">Side Effects</th>

                    <th sec:authorize="hasAnyAuthority('USER')">Edit</th>


                </tr>
                </thead>
                <tbody>
                <tr th:each="report : ${reports}" class="text-center">
                    <td sec:authorize="hasAnyAuthority('ADMIN')" th:text="${report.user.username}">User</td>
                    <td th:text="${report.id}">id</td>
                    <!--/*@thymesVar id="date" type="com.nci.webapp"*/-->
                    <td th:text="${#temporals.format(report.date, 'dd/MM/yyyy')}">17/04/1945</td>
                    <td th:text="${report.dayClassification}">Day Rating</td>
                    <td th:text="${report.drug}">Drugs</td>
                    <td th:text="${report.sideEffects}">Side Effects</td>

                    <td sec:authorize="hasAnyAuthority('USER')"> <a th:href="@{/report/edit/{id}(id=${report.id})}" class="btn btn-primary">Update</a>
                        <a th:href="@{/report/delete/{id}(id=${report.id})}" class="btn btn-danger">Delete</a>
                    </td>

                </tr>
                </tbody>

            </table>
        </div>
    </div>
</div>

</div>


<!--<div th:if = "${totalPages > 1}">-->
<!--    <div class = "row col-sm-10">-->
<!--        <div class = "col-sm-2">-->
<!--            Total Rows: [[${totalItems}]]-->
<!--        </div>-->
<!--        <div class = "col-sm-1">-->
<!--					<span th:each="i: ${#numbers.sequence(1, totalPages)}">-->
<!--						<a th:if="${currentPage != i}" th:href="@{'/page/' + ${i}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">[[${i}]]</a>-->
<!--						<span th:unless="${currentPage != i}">[[${i}]]</span>  &nbsp; &nbsp;-->
<!--					</span>-->
<!--        </div>-->
<!--        <div class = "col-sm-1">-->
<!--            <a th:if="${currentPage < totalPages}" th:href="@{'/page/' + ${currentPage + 1}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Next</a>-->
<!--            <span th:unless="${currentPage < totalPages}">Next</span>-->
<!--        </div>-->

<!--        <div class="col-sm-1">-->
<!--            <a th:if="${currentPage < totalPages}" th:href="@{'/page/' + ${totalPages}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Last</a>-->
<!--            <span th:unless="${currentPage < totalPages}">Last</span>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->


<!--<div class="container-fluid fixed-bottom">-->
<!--    <footer th:replace="~{fragments :: footer}"></footer>-->
<!--</div>-->
</body>
</html>